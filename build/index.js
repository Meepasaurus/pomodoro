"use strict";var Timer=function(e,t){var s=$("#slice"),i=$(".counter").find("p"),n=$("#title"),o=$("#pulse"),a="white",r="#263238",c="session",u=e,d=t,l=0,g=0,p=!1,h="",k=!1;return u>5999&&(u=5999),d>5999&&(d=5999),{updateCounter:function(){var e="",t="",s=Math.floor(g/60),n=g%60;n<10&&(e="0"),s<10&&(t="0"),i.text(t+s+":"+e+n)},updateClock:function(){var e=g/l*360;360===e&&("session"===c?n.text("Session"):n.text("Break")),0===e?s.css({"background-color":"#263238"}):e<=180?(e+=90,s.css({"background-color":a,"background-image":"linear-gradient("+e+"deg, transparent 50%, "+r+" 50%),linear-gradient(90deg, "+r+" 50%, transparent 50%)"})):e<360?(e-=90,s.css({"background-color":a,"background-image":"linear-gradient("+e+"deg, transparent 50%, white 50%),linear-gradient(90deg, "+r+" 50%, transparent 50%)"})):s.css({"background-image":"none","background-color":a}),this.updateCounter(),0===g?(this.startStop(),console.log(c+" time's up."),o.addClass("pulse"),window.setTimeout(function(){$("#pulse").removeClass("pulse")},1e3),"session"===c?(document.getElementById("notification").play(),c="break",g=d,l=d,this.startStop()):(document.getElementById("notification").play(),c="session",g=u,l=u,this.startStop())):(g--,console.log(g+1+" seconds remaining."))},startStop:function(){p=!0,k?(window.clearInterval(h),k=!1):(h=window.setInterval(this.updateClock.bind(this),1e3),k=!0)},setSettingsTimer:function(e,t){e=e.toString();var s=e.slice(0,1),i=Number(e.slice(1)),n=0,o=0;if("session"===t?(n=this.parseFourDigits(u),o=u):(n=this.parseFourDigits(d),o=d),console.log(s+":"+n),"+"===s)switch(i){case 1:o=9===n[3]?o-=9:o+=1;break;case 10:o=5===n[2]?o-=50:o+=10;break;case 60:o=9===n[1]?o-=540:o+=60;break;case 600:o=9===n[0]?o-=5400:o+=600}else switch(i){case 1:o=0===n[3]?o+=9:o-=1;break;case 10:o=0===n[2]?o+=50:o-=10;break;case 60:o=0===n[1]?o+=540:o-=60;break;case 600:o=0===n[0]?o+=5400:o-=600}"session"===t?(u=o,this.setParsedSessionDigits(this.parseFourDigits(u))):(d=o,this.setParsedBreakDigits(this.parseFourDigits(d))),p||this.init()},setParsedSessionDigits:function(e){$("#session-minutes-tens").text(e[0]),$("#session-minutes-ones").text(e[1]),$("#session-seconds-tens").text(e[2]),$("#session-seconds-ones").text(e[3])},setParsedBreakDigits:function(e){$("#break-minutes-tens").text(e[0]),$("#break-minutes-ones").text(e[1]),$("#break-seconds-tens").text(e[2]),$("#break-seconds-ones").text(e[3])},parseFourDigits:function(e){var t=0,s=0,i=0,n=0;n=Math.floor(e/60/10),i=Math.floor(e/60%10);var o=e-(600*n+60*i);return s=Math.floor(o/10),t=Math.floor(o%10),[n,i,s,t]},init:function(){this.setParsedSessionDigits(this.parseFourDigits(u)),this.setParsedBreakDigits(this.parseFourDigits(d)),g=u,l=u,this.updateClock()}}};$(document).ready(function(){var e=new Timer(3,5);e.init(),$(".btn-clock").on("click",function(t){t.preventDefault(),e.startStop()}),$(".edit-timer").on("click",function(t){t.preventDefault(),e.setSettingsTimer($(this).data("edit"),$(this).data("type"))})});